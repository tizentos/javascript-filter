function one_order_butterworth_filter(o,r){if(null===r||0===r.length||void 0===r)throw Error("input can not be zero value");var t=iirFilter(o);var e,n,l,i,f,a=[],g=[],h=[],z=[],b=[],c=[];for(e=2*r[0],n=2*r[r.length-1],l=0;l<3;l++)g[l]=e-r[3-l];for(i=r.length,l=0;l<i;l++)g[l+3]=r[l];for(l=0;l<3;l++)g[l+r.length+3]=n-r[r.length-l-2];for(z[0]=6+r.length,i=6+r.length,l=0;l<i;l++)h[l]=g[l];for(filter(t.b,t.a,h,z,t.zi*g[0],g,b),l=b[0],i=b[0]>>1,f=1;f<=i;f++)e=g[f-1],g[f-1]=g[l-f],g[l-f]=e;for(c[0]=b[0],i=b[0],l=0;l<i;l++)h[l]=g[l];for(filter(t.b,t.a,h,c,t.zi*g[0],g,b),l=b[0],i=b[0]>>1,f=1;f<=i;f++)e=g[f-1],g[f-1]=g[l-f],g[l-f]=e;for(i=r.length,l=0;l<i;l++)a[l]=g[3+l];return a}function filter(o,r,t,e,n,l,i){var f,a,g=[];for(i[0]=e[0],g[1]=n,f=0;f+1<=e[0];f++){for(g[0]=g[1],g[1]=0,a=0;a<2;a++)g[a]+=t[f]*o[0];g[1]-=g[0]*r[1],l[f]=g[0]}}function iirFilter(o){var r=4*Math.tan(Math.PI*o/2),t=-r,e=(4+t)/(4-t),n=1*r/(4-t);zi_table=[.9845337085968975,.9695312529087453,.9549649940888691,.9408092961815933,.927040342731733,.9136359729862373,.9005755352793756,.8878397555248064,.8754106190193822,.8632712640026808,.8514058856201788,.8397996491122632,.8284386112006398,.8173096487720745,.8064003940699659,.7956991756997357,.7851949648366474,.7748773260963852,.7647363725910077,.7547627247472146,.7449474725112386,.7352821406061255,.7257586565434917,.7163693211237131,.7071067811865475,.6979640043988607,.6889342558879106,.680011076547878,.6711882628643413,.6624598481164531,.6538200848299489,.6452634283659582,.6367845215411184,.6283781801838633,.6200393795400579,.6117632414485745,.6035450222139692,.5953801011092832,.5872639694471824,.5791922201622679,.5711605378514713,.563164689223054,.5552005139079094,.5472639155896409,.5393508534123093,.5314573336268246,.52357940143874,.5157131330216754,.5078546276618322,.49999999999999983,.4921453723381674,.48428686697832424,.47642059856125957,.46854266637317493,.46064914658769046,.4527360844103588,.4447994860920903,.43683531077694565,.42883946214852836,.42080777983773165,.41273603055281727,.4046198988907163,.3964549777860304,.3882367585514252,.3799606204599418,.3716218198161363,.36321547845888114,.3547365716340415,.34617991517005053,.3375401518835465,.32881173713565814,.3199889234521214,.3110657441120892,.3020359956011389,.2928932188134521,.2836306788762866,.27424134345650797,.26471785939387377,.25505252748876106,.24523727525278516,.23526362740899215,.22512267390361454,.214805035163352,.20430082430026394,.19359960593003345,.18269035122792543,.1715613887993597,.16020035088773624,.14859411437982067,.13672873599731894,.12458938098061689,.11216024447519272,.09942446472062372,.08636402701376139,.07295965726826596,.0591907038184045,.045035005911130466,.03046874709125285,.015466291403102506],zi_index=Math.floor(o/.01);var l=0===zi_index?zi_table[0]:zi_table[zi_index-1],i=zpk2tf(-1,e,n);return {b:i.b,a:i.a,zi:l}}function zpk2tf(o,r,t){var e,n=[1,-o],l=[1,-r],i=[];for(e=0;e<2;e++)i[e]=n[e]*t;return{b:i,a:l}}